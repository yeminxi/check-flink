<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="叶泯希,友链检测,友链状态,友链监测,检测结果,监测结果,叶泯,yemin,叶泯博客,yeminblog,泯希，minxi,泯希博客,minxiblog">
    <meta name="description" content="叶泯希的友链检测结果，友链状态检测，友链监测结果。">
    <title>友链状态检测 - 叶泯希</title>
    <link rel="icon" href="https://blog.418121.xyz/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="https://font.sec.miui.com/font/css?family=MiSans:400,700:MiSans">
    <style>
        body {
            font-family: 'MiSans', serif;
            margin: 0;
            padding: 0;
            background: url('https://api.nsmao.net/api/Img/query?key=kSoR7QHDdC8D0LTdX9LSZkbSW0&sort=acg') no-repeat center center fixed; 
            background-size: cover;
            color: #333;
        }
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 120px auto;
            padding: 20px;
            background-color: transparent;
            overflow: hidden; 
        }
        h1 {
            text-align: center;
            margin-bottom: 20px;
            font-size: 2em; /* 增大标题字体 */
        }
        .card-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between; /* 更好的卡片布局 */
            margin-top: 20px;
        }
        .card {
            background-color: rgba(0, 0, 0, 0.822);
            opacity: 0.822;
            border-radius: 10px;
            margin: 10px; /* 减小外边距 */
            padding: 10px; /* 减小内边距 */
            flex: 1 1 calc(20% - 10px); /* 调整为一行五个卡片，考虑边距 */
            transition: transform 0.2s;
            display: flex; 
            align-items: center; 
            justify-content: space-between; 
            color: white; /* 卡片内文字颜色设置为白色 */
            font-size: 14px; /* 字体大小 */
        }

        .card-item {
            display: flex; 
            flex-direction: column; 
            justify-content: center; 
            align-items: center; 
            padding: 10px; 
            text-align: center;
            margin-left: 30px; 
        }

        .card-item h3 {
            margin: 0; 
            font-size: 1.2em; 
        }

        .card-item p {
            margin-top: 5px; 
            font-size: 0.9em; 
            color: rgba(255, 255, 255, 0.822); 
        }

        .fail-days {
            margin-right: 10px;
            color: red;
            position: relative;
            margin-left: auto;
            padding-right: 10px;
        }

        .status-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 40px;
            position: relative;
            display: inline-block;
        }
        .status-dot::before {
            content: '';
            position: absolute;
            top: -4px;
            left: -4px;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            animation: pulse 3s infinite;
        }
        .green{
            background: green;
        }
        .yellow {
            background: yellow;
        }
        .red {
            background: red;
        }
        .green::before {
            background-color: green
        }
        .yellow::before {
            background-color: yellow;
        }
        .red::before {
            background-color: red;
        }
        a {
            font-size: 16px;
            color: #007bff;
            text-decoration: none;
            transition: color 0.3s, text-shadow 0.3s;
        }

        a:hover {
            color: #0056b3;
            text-shadow: 0px 0px 5px rgba(0, 123, 255, 0.822);
        }

        .summary-card {
            display: flex;
            justify-content: space-between; /* 水平分布内容 */
            border-radius: 8px;
            text-align: right;
            font-size: 1.1em;
            color: #555;
        }

        .summary-item {
            background-color: rgba(0, 0, 0, 0.822);
            opacity: 0.822;
            border-radius: 10px;
            padding: 15px;
            margin: 10px;
            flex: 1; /* 每个卡片占据相同宽度 */
            text-align: center; /* 文本居中 */
            font-size: 14px;
            color: pink;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
                opacity: 0.2;
            }
            50% {
                transform: scale(1.5);
                opacity: 0.5;
            }
            100% {
                transform: scale(1);
                opacity: 0.2;
            }
        }

        .info-card {
            color: #fff;
            background-color: rgba(0, 0, 0, 0.822);
            opacity: 0.822;
            border-radius: 8px; /* 圆角 */
            padding: 10px 15px; /* 内边距 */
            margin: 10px 0; /* 上下间距 */
            text-align: center;
        }

        .info-card a {
            color: #00c8ff; /* 初始链接颜色 */
            transition: all 0.3s; /* 过渡效果 */
            text-decoration: none; /* 去掉下划线 */
            padding: 5px 10px; /* 内边距 */
            border: 2px solid transparent; /* 初始边框 */
            border-radius: 4px; /* 圆角 */
        }

        .info-card a:hover {
            background-color: rgba(0, 199, 255, 0.3); /* 悬停背景色 */
            color: #000; /* 悬停时文本颜色 */
            border: 2px solid #00c8ff; /* 悬停时边框 */
            text-shadow: 0px 0px 5px rgba(0, 199, 255, 0.822); /* 悬停时文字阴影 */
        }
        /* 响应式设计 */
        @media (max-width: 1024px) {
            .card {
                flex: 1 1 calc(45% - 20px); /* 调整为两列布局 */
            }
        }
        @media (max-width: 768px) {
            .container {
                margin: 60px auto; 
            }
            .card {
                flex: 1 1 calc(100% - 20px); /* 一列布局 */
            }
            .summary-card {
                font-size: 1em; 
                flex-direction: column; /* 垂直布局 */
                align-items: stretch; /* 左对齐 */
            }
            .summary-card h3 {
                margin: 5px 0; /* 每项之间的间距 */
            }
        }
         /* 自适应浅色模式 */
         @media (prefers-color-scheme: light) {
            body {
                background-color: #f0f0f0;
                color: #000000;
            }
            .container {
                background-color: transparent;
            }
            .card {
                background-color: rgba(255, 255, 255, 0.822);
                color: #000000;
                opacity: 0.822;
            }
            .info-card {
		margin-top: 1em;
		margin-bottom: 0.5em
                color: #000000;
                background-color: rgba(255, 255, 255, 0.822);
                opacity: 0.822;
            }
            .summary-item {
                background-color: rgba(255, 255, 255, 0.822);
                opacity: 0.822;
                color: purple;
            }
        }
          .github-icon {
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 1000;
        background-color: rgba(0, 0, 0, 0.822);
        border-radius: 50%;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        width: 45px;
        height: 45px;

        display: flex;
        justify-content: center;
        align-items: center;
        transition: all 0.2s ease-in-out;
      }

      .github-icon:hover {
        box-shadow: 0 3px 8px rgba(0, 0, 0, 0.3);
      }
      .github-icon svg {
        margin-top: 7px;
        fill: #fff;
        width: 25px;
        height: 25px;
      }
    </style>
</head>
<body>
    <div class="github-icon">
      <a
        href="https://github.com/yeminxi"
        target="_blank"
        rel="noopener noreferrer"
      >
        <svg
          t="1742361434983"
          class="icon"
          viewBox="0 0 1024 1024"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          p-id="2610"
        >
          <path
            d="M850.346667 155.008a42.666667 42.666667 0 0 0-22.741334-23.509333c-8.704-3.754667-85.717333-33.322667-200.32 39.168H396.714667c-114.773333-72.618667-191.701333-42.922667-200.32-39.168a42.88 42.88 0 0 0-22.741334 23.466666c-26.197333 66.218667-18.048 136.448-7.850666 176.896C134.272 374.016 128 413.098667 128 469.333333c0 177.877333 127.104 227.882667 226.730667 246.272a189.568 189.568 0 0 0-13.013334 46.549334A44.373333 44.373333 0 0 0 341.333333 768v38.613333c-19.498667-4.138667-41.002667-11.946667-55.168-26.112C238.08 732.416 188.330667 682.666667 128 682.666667v85.333333c25.002667 0 65.365333 40.362667 97.834667 72.832 51.029333 51.029333 129.066667 55.253333 153.386666 55.253333 3.114667 0 5.376-0.085333 6.528-0.128A42.666667 42.666667 0 0 0 426.666667 853.333333v-82.090666c4.266667-24.746667 20.224-49.621333 27.946666-56.362667a42.666667 42.666667 0 0 0-23.125333-74.581333C293.333333 624.554667 213.333333 591.488 213.333333 469.333333c0-53.12 5.632-70.741333 31.573334-99.285333 11.008-12.117333 14.08-29.568 7.978666-44.8-4.821333-11.904-18.773333-65.450667-6.485333-117.546667 20.650667-1.578667 59.904 4.565333 113.706667 40.96C367.104 253.44 375.466667 256 384 256h256a42.666667 42.666667 0 0 0 23.936-7.338667c54.016-36.522667 92.970667-41.770667 113.664-41.130666 12.330667 52.224-1.578667 105.770667-6.4 117.674666a42.666667 42.666667 0 0 0 8.021333 44.928C805.077333 398.464 810.666667 416.085333 810.666667 469.333333c0 122.581333-79.957333 155.52-218.069334 170.922667a42.666667 42.666667 0 0 0-23.125333 74.709333c19.797333 17.066667 27.861333 32.469333 27.861333 53.034667v128h85.333334v-128c0-20.437333-3.925333-38.101333-9.770667-53.12C769.92 695.765333 896 643.712 896 469.333333c0-56.362667-6.272-95.530667-37.76-137.514666 10.197333-40.405333 18.261333-110.506667-7.893333-176.810667z"
            p-id="2611"
          ></path>
        </svg>
      </a>
    </div>
<div class="container">
    <div class="info-card"><h1>友链状态检测</h1>🗓️检测时间：<span id="summary">获取中...</span><br /><br />基于 GitHub Action 监测友链状态，结合 Cloudflare Worker 和 api.nsmao.net 提高准确率</div>
    
    
    <div class="summary-card">
        <div class="summary-item">
            <p>🪴 花友总数：<span id="total-links">获取中...</span></p>
        </div>
        <div class="summary-item">
            <p>🟩 正常发挥：<span id="good-links">获取中...</span></p>
        </div>
        <div class="summary-item">
            <p>🟨 慢常发挥：<span id="slow-links">获取中...</span></p>
        </div>
        <div class="summary-item">
            <p>🟥 坏常发挥：<span id="error-links">获取中...</span></p>
        </div>
    </div>    
    
    <div class="card-container" id="link-card-container-error"></div>
    <div class="card-container" id="link-card-container"></div>
   
    <div class="info-card">
	<script defer="" src="https://cn.vercount.one/js"></script>
    
        <div style="margin-bottom: 0.5em;margin-top: 1em;">
          网站总请求量：<span id="vercount_value_site_pv">获取中...</span> |
          独立访客数：<span id="vercount_value_site_uv">获取中...</span>
        </div>
      
        <div style="margin-bottom: 0.5em">
          Powered by
          <a href="https://github.com/features/actions" target="_blank" rel="nofollow noopener noreferrer">GitHub Actions</a>
          |
          <a href="https://workers.cloudflare.com/" target="_blank" rel="nofollow noopener noreferrer">Cloudflare Workers</a>
          |
          <a href="https://xxapi.cn/" target="_blank" rel="nofollow noopener noreferrer">小小API</a>
          |
          <a href="https://api.nsmao.net/" target="_blank" rel="nofollow noopener noreferrer">奶思猫</a>
        </div>

        <div style="margin-bottom: 0.5em">
          项目地址: <a href="https://github.com/willow-god/check-flink" target="_blank" rel="nofollow noopener noreferrer">check-flink</a>
          | MIT License © <span id="year">2025</span> |
          <a href="https://www.liushen.fun/" target="_blank" rel="nofollow noopener noreferrer">LiuShen</a>
        </div>

        <div style="margin-bottom: 1em">
        	<a href='https://blog.418121.xyz/links/' title="叶泯希的友链页" target="_blank">叶泯希的友链</a>|<a href='https://status.418121.xyz/' title="站点监控页" target="_blank">站点监控</a>
        </div>
        <script>
          // 动态年份显示
          document.getElementById("year").textContent =
            new Date().getFullYear();
        </script>

    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    fetch('./result.json')
        .then(response => response.json())
        .then(data => {
            const container_error = document.getElementById('link-card-container-error');
            const container = document.getElementById('link-card-container');
            
            if (!container || !container_error) {
                console.warn('友链容器元素不存在');
                return;
            }

            let statusHTML = '';
            const sortedLinks = data.link_status.sort((a, b) => a.latency === -1 ? -1 : b.latency === -1 ? 1 : b.latency - a.latency);
            let totalLinks = 0;
            let normalLinks = 0;
            let slowLinks = 0;
            let errorLinks = 0;
            let errorLinksHTML = '';
            let LinksHTML = '';
            
            sortedLinks.forEach(link => {
                totalLinks++;
                let statusClass = 'green';
                let extraInfo = '';

                if (link.latency === -1) {
                    statusClass = 'red';
                    errorLinks++;
                    extraInfo = `<span class="fail-days">失效${link.failed_days}次</span>`;
                    errorLinksHTML += `<div class="card">
                            <a class="card-item" href="${link.link}" target="_blank" rel="noopener noreferrer noreferrer">${link.name}</a>
                                ${extraInfo}
                                <span class="status-dot ${statusClass}"></span>
                        </div>`;
                } else if (link.latency > 4) {
                    statusClass = 'yellow';
                    slowLinks++;
                    LinksHTML += `<div class="card">
                        <a class="card-item" href="${link.link}" target="_blank" rel="noopener noreferrer noreferrer">${link.name}</a>
                        <span class="status-dot ${statusClass}"></span>
                    </div>`;
                } else {
                    normalLinks++;
                    LinksHTML += `<div class="card">
                        <a class="card-item" href="${link.link}" target="_blank" rel="noopener noreferrer noreferrer">${link.name}</a>
                        <span class="status-dot ${statusClass}"></span>
                    </div>`;
                }
                
            });

            const safeSetText = (id, text) => {
                const el = document.getElementById(id);
                el && (el.textContent = text);
            };

            safeSetText('total-links', totalLinks);
            safeSetText('good-links', normalLinks);
            safeSetText('slow-links', slowLinks);
            safeSetText('error-links', errorLinks);
            
            if (errorLinksHTML) {
                container_error.innerHTML = errorLinksHTML;
            } else if (container_error.parentElement) {
                container_error.parentElement.remove();
            }

            LinksHTML && (container.innerHTML = LinksHTML);
            
            const summaryEl = document.getElementById('summary');
            summaryEl && (summaryEl.textContent = data.timestamp);
        })
        .catch(error => console.error('加载数据失败:', error));
});

</script>


</body>
</html>
